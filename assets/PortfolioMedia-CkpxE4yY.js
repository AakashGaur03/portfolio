import{G as k,r as l,j as e,F as I,a as L,m as E}from"./index--6ES5MIv.js";function M(s){return k({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(s)}const P=({src:s,alt:r,className:n,onLoad:a})=>{const[f,i]=l.useState(!1),[o,h]=l.useState(!1),u=l.useRef(null);l.useEffect(()=>{const d=new IntersectionObserver(g=>{g.forEach(x=>{x.isIntersecting&&(i(!0),d.unobserve(x.target))})},{threshold:.1});return u.current&&d.observe(u.current),()=>{u.current&&d.unobserve(u.current)}},[]);const v=()=>{h(!0),a&&a()};return e.jsxs("div",{ref:u,className:`relative w-full h-full flex items-center justify-center bg-gray-800 rounded-lg overflow-hidden ${n||""}`,children:[!o&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800 animate-pulse",children:e.jsx("p",{className:"text-gray-400",children:"Loading..."})}),f&&e.jsx("img",{src:s,alt:r,className:`transition-opacity duration-500 ${o?"opacity-100":"opacity-0"}`,onLoad:v})]})},R=s=>{const r={};return s.forEach(({type:n,project:a,src:f,link:i})=>{r[n]||(r[n]={}),r[n][a]||(r[n][a]={images:[],link:null}),r[n][a].images.push(f),i&&!r[n][a].link&&(r[n][a].link=i)}),r},z=()=>{const[s,r]=l.useState(null),[n,a]=l.useState(0),[f,i]=l.useState(!0),o=l.useRef(null),h=l.useRef(!1),u=R(E),v=t=>{r(t),a(0),i(!0)},d=()=>{i(!0),a(t=>t>0?t-1:s.images.length-1)},g=()=>{i(!0),a(t=>t<s.images.length-1?t+1:0)},x=()=>r(null);l.useEffect(()=>{const t=c=>{s&&(c.key==="ArrowLeft"&&d(),c.key==="ArrowRight"&&g(),c.key==="Escape"&&x())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[s]);const w=t=>{h.current=!0,o.current=t.type==="touchstart"?t.touches[0].clientX:t.clientX},p=t=>{if(!h.current||o.current===null)return;const c=t.type==="touchmove"?t.touches[0].clientX:t.clientX,m=o.current-c;Math.abs(m)>50&&(m>0?g():d(),h.current=!1,o.current=null)},y=()=>{h.current=!1,o.current=null};return e.jsxs("div",{className:"p-4",children:[Object.entries(u).map(([t,c])=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-3",children:[t," Projects (",Object.keys(c).length,")"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(c).map(([m,{images:j,link:b}],N)=>e.jsxs("div",{className:"relative flex flex-col items-center",children:[e.jsx("img",{src:j[0],alt:m,className:"max-w-full max-h-60 object-contain rounded-lg shadow-md cursor-pointer",onClick:()=>v({name:m,images:j,link:b})}),j.length>1&&e.jsxs("span",{className:"absolute top-2 right-2 bg-gray-800 text-white text-xs px-2 py-1 rounded-full",children:[j.length,"+"]}),e.jsx("p",{className:"mt-2 font-semibold text-white",children:m}),b&&e.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 hover:underline mt-1",children:"Visit Site"})]},N))})]},t)),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:x,children:e.jsxs("div",{className:"relative bg-gray-900 p-4 min-w-[70vw] rounded-lg shadow-lg max-w-4xl w-full flex flex-col items-center",onClick:t=>t.stopPropagation(),children:[e.jsx("button",{className:"absolute z-10 top-2 right-2 text-gray-400 hover:text-gray-200 cursor-pointer",onClick:x,children:e.jsx(M,{size:24})}),e.jsxs("div",{className:"relative flex items-center justify-between w-full",onMouseDown:w,onMouseMove:p,onMouseUp:y,onTouchStart:w,onTouchMove:p,onTouchEnd:y,children:[e.jsx("button",{className:"text-gray-400 p-4 hover:text-white cursor-pointer",onClick:d,children:e.jsx(I,{size:24})}),e.jsxs("div",{className:"flex justify-center items-center w-full max-h-[90vh] min-h-[70vh] relative",children:[f&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800 rounded-lg animate-pulse z-10",children:e.jsx("p",{className:"text-gray-400",children:"Loading..."})}),e.jsx(P,{src:s.images[n],alt:"Preview",className:"max-w-full max-h-[90vh] object-contain mx-auto",onLoad:()=>i(!1)})]}),e.jsx("button",{className:"text-gray-400 p-4 hover:text-white cursor-pointer",onClick:g,children:e.jsx(L,{size:24})})]}),e.jsxs("p",{className:"text-gray-400 mt-2",children:[n+1," / ",s.images.length]}),s.link&&e.jsxs("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"mt-2 text-blue-400 hover:underline text-sm",children:["ðŸ”— Visit ",s.name]})]})})]})};export{z as default};
